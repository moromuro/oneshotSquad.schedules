{"version":3,"sources":["App.js","components/gameTable.js","index.js"],"names":["App","props","state","time","hours","minutes","seconds","milliseconds","startTime","timer","duration","startTimer","start","bind","nextGame","parseInt","Math","floor","toString","padStart","this","length","i","found","GAMES","game","Date","date","getTime","now","window","setInterval","run","diff","remaining","setState","msToTime","clearTimeout","className","id","toLocaleString","dateStyle","timeStyle","Intl","DateTimeFormat","resolvedOptions","timeZone","toUTCString","players","description","renderGameTable","style","height","React","Component","hot","module","GameTable","rows","forEach","index","push","renderInfo","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.593ca9d3.chunk.js","sourcesContent":["import React from 'react';\r\nimport { hot } from 'react-hot-loader';\r\nimport './App.css';\r\n\r\nimport GameTable from './components/gameTable';\r\nimport GAMES from './games.json';\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            time: {\r\n                hours: 0,\r\n                minutes: 0,\r\n                seconds: 0,\r\n                milliseconds: 0,\r\n            },\r\n            startTime: 0,\r\n            timer: null,\r\n            duration: 0,\r\n        }\r\n        this.startTimer = this.start.bind(this);\r\n        this.nextGame = [];\r\n    }\r\n\r\n    msToTime(duration) {\r\n        let milliseconds = parseInt((duration % 1000));\r\n        let seconds = Math.floor((duration / 1000) % 60);\r\n        let minutes = Math.floor((duration / (1000 * 60)) % 60);\r\n        let hours = Math.floor(duration / (1000 * 60 * 60));\r\n\r\n        hours = hours.toString().padStart(2, '0');\r\n        minutes = minutes.toString().padStart(2, '0');\r\n        seconds = seconds.toString().padStart(2, '0');\r\n        milliseconds = milliseconds.toString().padStart(3, '0');\r\n    \r\n        return {\r\n          hours,\r\n          minutes,\r\n          seconds,\r\n          milliseconds\r\n        };\r\n    }\r\n \r\n    start() {\r\n        if (this.nextGame.length === 0) {\r\n            \r\n            let i = 0;\r\n            let found = false;\r\n            while (!found) {\r\n            \r\n                if (i === GAMES.length) {\r\n                    break;\r\n                }\r\n                \r\n                const game = GAMES[i];\r\n\r\n                if ((new Date(game.date).getTime() - Date.now()) > 0) {\r\n                    this.nextGame = GAMES[i];\r\n                    found = true;\r\n                }\r\n\r\n                i++;\r\n            }\r\n        }\r\n\r\n        if (!this.state.timer) {\r\n            /**\r\n             * Set the timer from the point of opening the site while staying there.\r\n             */ \r\n            this.state.startTime = Date.now();\r\n            this.state.duration = new Date(this.nextGame.date).getTime() - Date.now();\r\n            this.timer = window.setInterval(() => this.run(), 1000);\r\n        }\r\n    }\r\n\r\n    run() {\r\n        const diff = Date.now() - this.state.startTime;\r\n        \r\n        // count down\r\n        let remaining = this.state.duration - diff;\r\n\r\n        if (remaining < 0) {\r\n          remaining = 0;\r\n        }\r\n        \r\n        this.setState(() => ({\r\n          time: this.msToTime(remaining)\r\n        }));\r\n\r\n        if (remaining === 0) {\r\n          window.clearTimeout(this.timer);\r\n          this.timer = null;\r\n        }\r\n    }\r\n\r\n    renderGameTable() {\r\n        return(\r\n            <GameTable />\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"App\">\r\n                {this.startTimer()}\r\n                <div className=\"description-header card\">\r\n                    <h1 id=\"header-headline-1\"> GMT ONESHOT SQUAD</h1>\r\n                    <p id=\"header-text-1\">Adventures in the World of Bal'Morel,<br/>brought to you by DM Zaeryss.</p>\r\n                    <p id=\"header-text-2\">With possible issues regarding the site,<br/> contact Moro on discord.</p>\r\n                </div>\r\n                <div className=\"timer card\">\r\n                    <div className=\"bigTimerCard\">\r\n                        <div className=\"bigTimerLabelDiv\">\r\n                            <p id=\"bigTimerLabel\">Next Game in</p>\r\n                        </div>\r\n                        <p className=\"bigTimer\">\r\n                            <strong>\r\n                                {this.state.time.hours} : {this.state.time.minutes} : {this.state.time.seconds}\r\n                            </strong>\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"timerInfo\"> \r\n                        <p className=\"timerText1\"><strong>{new Date(this.nextGame.date).toLocaleString('en-gb', { dateStyle: 'medium', timeStyle: 'long'})}</strong></p>\r\n                        <span className=\"infoText\">Your timezone: {Intl.DateTimeFormat().resolvedOptions().timeZone}</span>\r\n                        <br></br>\r\n                        <p className=\"timerText2\">{new Date(this.nextGame.date).toUTCString()}</p>\r\n                        <span className=\"infoText\">UTC time</span>\r\n                        <br></br>\r\n                        <br></br>\r\n                        <p>Players</p>\r\n                        <p>{this.nextGame.players}</p>\r\n                        <br></br>\r\n                        <p>Info</p>\r\n                        <p>{this.nextGame.description}</p>\r\n                    </div>\r\n                    <br></br>\r\n                    \r\n                    <br></br>\r\n                </div>\r\n\r\n                <div className=\"gameList\">\r\n                    <div className=\"middleBreak\">\r\n                        <h2 id=\"comingGames\">Upcoming games</h2>\r\n                    </div>\r\n                    {this.renderGameTable()}\r\n                </div>\r\n                <div style={{ height: '100px' }} />\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default hot(module)(App);\r\n","import React from 'react';\r\nimport './gameTable.css';\r\n\r\nimport GAMES from '../games.json';\r\n\r\nclass GameTable extends React.Component {\r\n\r\n    renderInfo() {\r\n        const rows = [];\r\n        GAMES.forEach((game, index) => {\r\n            if ((new Date(game.date).getTime() - Date.now()) > 0) {\r\n\r\n                // LAst row check\r\n                if (index === GAMES.length - 1) {\r\n                    rows.push(\r\n                        <div key={index} className=\"gameCard\">\r\n                            <h1 className=\"userTime\">{new Date(game.date).toLocaleString('en-gb', { dateStyle: 'medium', timeStyle: 'medium'})}</h1>\r\n                            <p>{new Date(game.date).toUTCString()}</p>\r\n                            <br/>\r\n                            <p>{game.players}</p>\r\n                            <br/>\r\n                            <p>{game.description}</p>\r\n                        </div>\r\n                    );\r\n                } else {\r\n                    rows.push(\r\n                        <div key={index} className=\"gameCard middleRow\">\r\n                            <h1 className=\"userTime\">{new Date(game.date).toLocaleString('en-gb', { dateStyle: 'medium', timeStyle: 'medium'})}</h1>\r\n                            <p>{new Date(game.date).toUTCString()}</p>\r\n                            <br/>\r\n                            <p>{game.players}</p>\r\n                            <br/>\r\n                            <p>{game.description}</p>\r\n                        </div>\r\n                    );\r\n                }\r\n                \r\n            }\r\n        })\r\n        \r\n        return rows;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"gameTable\">\r\n                {this.renderInfo()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GameTable;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App.js\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n// serviceWorker.unregister();\r\n"],"sourceRoot":""}